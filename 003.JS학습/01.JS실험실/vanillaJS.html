<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Vanilla JS</title>
        <script>
            let optV = true;
            let s;
            window.addEventListener("DOMContentLoaded",()=>{
                s = document.getElementById("tgImg").style;
                s.opacity = 1;
            })
            function chgImg() {
                 if(optV){
                console.log('ㅎㅎ',optV);
                     (function fade() {
                         (s.opacity -= 0.1) < 0 ? (s.display = "none") : setTimeout(fade, 60);
                         console.log(s.opacity);
                         if(s.display == "none") optV = false;
                        })();
                        
                    }
                    else{
                        // s.opacity = 0;
                        (function fade2() {
                            console.log('ㅋㅋ',optV);
                            s.opacity += 0.1
                            console.log(s.opacity);
                        if(s.opacity >= -0.1 && s.opacity < 1){
                            s.display = "block";
                            setTimeout(fade2, 60);
                        }
                        else{
                            optV = true;
                        }

                     })();
                 }
            }
        </script>
    </head>
    <body>
        <button onclick="chgImg()">변경</button> <br><br>
        <img id="tgImg" src="https://i.natgeofe.com/n/2a832501-483e-422f-985c-0e93757b7d84/6.jpg?w=2560&h=1922" alt="landscape" style="width: 100%;" />
    </body>
</html>
